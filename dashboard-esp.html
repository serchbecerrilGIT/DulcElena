<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Certigma</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Dashboard</h1>
        <nav>
            <a href="index.html">Inicio</a>
            <a href="courses.html">Cursos</a>
            <a href="demo-course-1.html">Curso de demostración</a>
            <a href="evaluation.html">Evaluación</a>
            <a href="quiz.html">Quiz</a>
            <a href="dashboard.html">Dashboard</a>
        </nav>
    </header>

    <main>
        <h2>Evaluaciones del Curso y Resultados del Quiz</h2>
        
        <section id="quiz-results-section">
            <h3>Resultados del Quiz</h3>
            <p>Tus puntajes del quiz se almacenan localmente en este navegador. No se envían a un servidor.</p>
            <table id="quiz-results-table">
                <thead>
                    <tr>
                        <th>Fecha y Hora</th>
                        <th>Puntaje</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
            <button id="clear-results-btn" class="button" style="margin-top:1rem;">Borrar Resultados</button>
        </section>

        <section id="evaluation-notes">
            <h3>Notas sobre el Formulario de Evaluación</h3>
            <p>El formulario de evaluación en la página "Evaluación" requiere un servidor backend (como Azure Functions) para recopilar y almacenar los datos. Para este sitio estático, el formulario es solo una demostración visual.</p>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Certigma. Todos los derechos reservados.</p>
    </footer>

    <script>
        // Esta matriz de preguntas es necesaria para calcular el puntaje total en el dashboard.
        const questions = [
            { question: "...", answer: 1 },
            { question: "...", answer: 2 },
            { question: "...", answer: 1 },
            { question: "...", answer: 2 },
            { question: "...", answer: 1 }
        ];

        function loadQuizResults() {
            const results = JSON.parse(localStorage.getItem('quizResults')) || [];
            const tableBody = document.querySelector('#quiz-results-table tbody');
            tableBody.innerHTML = '';
            
            if (results.length > 0) {
                results.forEach(result => {
                    const row = tableBody.insertRow();
                    row.innerHTML = `
                        <td>${result.timestamp}</td>
                        <td>${result.score} / ${questions.length}</td>
                    `;
                });
            } else {
                tableBody.innerHTML = '<tr><td colspan="2">No se encontraron resultados del quiz.</td></tr>';
            }
        }

        document.getElementById('clear-results-btn').addEventListener('click', () => {
            localStorage.removeItem('quizResults');
            loadQuizResults();
        });

        loadQuizResults();
    </script>
</body>
</html>